{"version":3,"sources":["components/Person.js","components/PersonList.js","components/PersonForm.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDelete","className","name","number","onClick","_id","PersonList","persons","filter","filteredData","map","Personform","newName","newNumber","handleNameChange","handleNumberChange","addName","onSubmit","value","onChange","Button","variant","color","size","startIcon","type","baseUrl","newObject","axios","post","then","response","data","id","delete","put","Notification","message","App","useState","setPersons","setNewName","setNewNumber","setFilteredData","setFilter","notificationMessage","setNotificationMessage","timeout","setTimeout","hook","get","console","log","useEffect","event","target","newFilter","toLowerCase","includes","preventDefault","newPerson","alreadyExists","some","find","p","changedPerson","length","window","confirm","phoneService","returnedPerson","catch","error","concat","filteredPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83319358.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n\t<div className=\"person\">\r\n\t\t<span className=\"person--name\">{person.name} </span>\r\n\t\t<span className=\"person--number\">{person.number}</span>\r\n\t\t<button className=\"button\" onClick={() => handleDelete(person._id)}>\r\n\t\t\tDelete\r\n\t\t</button>\r\n\t</div>\r\n);\r\n\r\nexport default Person;\r\n","import Person from './Person';\r\n\r\nconst PersonList = ({ persons, handleDelete, filter, filteredData }) => (\r\n\t<div>\r\n\t\t{filter === ''\r\n\t\t\t? persons?.map((person) => (\r\n\t\t\t\t\t<Person\r\n\t\t\t\t\t\tkey={person._id}\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t  ))\r\n\t\t\t: filteredData?.map((person) => (\r\n\t\t\t\t\t<Person\r\n\t\t\t\t\t\tkey={person._id}\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t  ))}\r\n\t</div>\r\n);\r\n\r\nexport default PersonList;\r\n\r\n// <ul>\r\n// \t{persons.map(function (person) {\r\n// \t\treturn (\r\n// \t\t\t<Person key={person.id} person={person} handleDelete={handleDelete} />\r\n// \t\t\t// <li key={person.id}>\r\n// \t\t\t// \t{person.name} {person.number}\r\n// \t\t\t// </li>\r\n// \t\t);\r\n// \t})}\r\n// </ul>\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst Personform = ({\r\n\tnewName,\r\n\tnewNumber,\r\n\thandleNameChange,\r\n\thandleNumberChange,\r\n\taddName,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={addName}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tstartIcon={<SaveIcon />}\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Personform;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteName = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nexport default { create, deleteName, update };\r\n","import '../Index.css';\r\n\r\nconst Notification = ({ message }) => {\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn <div className=\"error\">{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PersonList from './components/PersonList';\r\nimport Personform from './components/PersonForm';\r\nimport axios from 'axios';\r\nimport phoneService from './services/phonebook';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport './Index.css';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [newNumber, setNewNumber] = useState('');\r\n\tconst [filteredData, setFilteredData] = useState([]);\r\n\tconst [filter, setFilter] = useState('');\r\n\tconst [notificationMessage, setNotificationMessage] = useState(null);\r\n\r\n\tconst timeout = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetNotificationMessage(null);\r\n\t\t}, 5000);\r\n\t};\r\n\tconst hook = () => {\r\n\t\taxios.get('/api/persons').then((response) => {\r\n\t\t\tconsole.log('promise fulfilled');\r\n\t\t\tsetPersons(response.data);\r\n\t\t\tconsole.log(response.data);\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(hook, []);\r\n\r\n\tconst addName = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\tconst alreadyExists = persons.some((person) => person.name === newName);\r\n\r\n\t\tif (newName === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (alreadyExists) {\r\n\t\t\tconst person = persons.find((p) => p.name === newName);\r\n\t\t\tconst changedPerson = { ...person, number: newNumber };\r\n\t\t\tconst { id } = person;\r\n\r\n\t\t\tif (newNumber.length < 8) {\r\n\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t`${newNumber} is too short, please provide a number with at least 8 digits`\r\n\t\t\t\t);\r\n\t\t\t\ttimeout();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst confirmUpdate = window.confirm(\r\n\t\t\t\t`${newName} is already added to phonebook, replace the old number with a new one?`\r\n\t\t\t);\r\n\r\n\t\t\tif (confirmUpdate) {\r\n\t\t\t\tconsole.log(person._id);\r\n\t\t\t\tphoneService //\r\n\t\t\t\t\t.update(person._id, changedPerson)\r\n\t\t\t\t\t.then((returnedPerson) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson._id !== id ? person : returnedPerson\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tsetNotificationMessage(`Updated number for ${person.name}`);\r\n\t\t\t\t\t\ttimeout();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t\t`Information for ${person.name} has already been removed from server`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== id));\r\n\t\t\t\t\t\ttimeout();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsetNewName('');\r\n\t\t\tsetNewNumber('');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tphoneService //\r\n\t\t\t.create(newPerson)\r\n\t\t\t.then((returnedPerson) => {\r\n\t\t\t\tsetPersons(persons.concat(returnedPerson));\r\n\r\n\t\t\t\tsetNotificationMessage(`Added ${returnedPerson.name}`);\r\n\t\t\t\ttimeout();\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNewNumber('');\r\n\t\t\t\thook();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t\tsetNotificationMessage(error.response.data.error);\r\n\t\t\t\ttimeout();\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\r\n\tconst handleFilter = (event) => {\r\n\t\tsetFilter(event.target.value);\r\n\t\tconsole.log(event.target.value);\r\n\t\tconst newFilter = persons.filter((value) => {\r\n\t\t\treturn value.name\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.includes(event.target.value.toLowerCase());\r\n\t\t});\r\n\t\tsetFilteredData(newFilter);\r\n\t};\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tconst person = persons.find((p) => p._id === id);\r\n\t\tconst confirmDelete = window.confirm(`Delete ${person.name}?`);\r\n\t\tif (confirmDelete) {\r\n\t\t\tphoneService.deleteName(id).then(() => {\r\n\t\t\t\tconst filteredPersons = persons.filter((person) => person.id !== id);\r\n\t\t\t\tsetPersons(filteredPersons);\r\n\t\t\t\tsetNotificationMessage(`Deleted ${person.name}`);\r\n\t\t\t\thook();\r\n\t\t\t\ttimeout();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<h2>Orange Kitty's Phonebook</h2>\r\n\t\t\t<Notification message={notificationMessage} />\r\n\t\t\t<div className=\"searchInputs\">\r\n\t\t\t\t<p>Filtered list</p>\r\n\t\t\t\t<input className=\"input\" type=\"text\" onChange={handleFilter}></input>\r\n\t\t\t\t<SearchIcon id=\"searchIcon\" />\r\n\t\t\t</div>\r\n\t\t\t<h2>Add New</h2>\r\n\t\t\t<Personform\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\taddName={addName}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<PersonList\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\tfilteredData={filteredData}\r\n\t\t\t\tfilter={filter}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}